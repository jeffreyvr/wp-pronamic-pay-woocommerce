{"version":3,"file":"index.js","mappings":"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","sources":["webpack://PronamicPayWooCommerce/external window [\"wc\",\"wcBlocksRegistry\"]","webpack://PronamicPayWooCommerce/external window [\"wc\",\"wcSettings\"]","webpack://PronamicPayWooCommerce/external window [\"wp\",\"element\"]","webpack://PronamicPayWooCommerce/external window [\"wp\",\"htmlEntities\"]","webpack://PronamicPayWooCommerce/webpack/bootstrap","webpack://PronamicPayWooCommerce/webpack/runtime/compat get default export","webpack://PronamicPayWooCommerce/webpack/runtime/define property getters","webpack://PronamicPayWooCommerce/webpack/runtime/hasOwnProperty shorthand","webpack://PronamicPayWooCommerce/webpack/runtime/make namespace object","webpack://PronamicPayWooCommerce/./js/src/index.js"],"sourcesContent":["module.exports = window[\"wc\"][\"wcBlocksRegistry\"];","module.exports = window[\"wc\"][\"wcSettings\"];","module.exports = window[\"wp\"][\"element\"];","module.exports = window[\"wp\"][\"htmlEntities\"];","// The module cache\nvar __webpack_module_cache__ = {};\n\n// The require function\nfunction __webpack_require__(moduleId) {\n\t// Check if module is in cache\n\tvar cachedModule = __webpack_module_cache__[moduleId];\n\tif (cachedModule !== undefined) {\n\t\treturn cachedModule.exports;\n\t}\n\t// Create a new module (and put it into the cache)\n\tvar module = __webpack_module_cache__[moduleId] = {\n\t\t// no module.id needed\n\t\t// no module.loaded needed\n\t\texports: {}\n\t};\n\n\t// Execute the module function\n\t__webpack_modules__[moduleId](module, module.exports, __webpack_require__);\n\n\t// Return the exports of the module\n\treturn module.exports;\n}\n\n","// getDefaultExport function for compatibility with non-harmony modules\n__webpack_require__.n = function(module) {\n\tvar getter = module && module.__esModule ?\n\t\tfunction() { return module['default']; } :\n\t\tfunction() { return module; };\n\t__webpack_require__.d(getter, { a: getter });\n\treturn getter;\n};","// define getter functions for harmony exports\n__webpack_require__.d = function(exports, definition) {\n\tfor(var key in definition) {\n\t\tif(__webpack_require__.o(definition, key) && !__webpack_require__.o(exports, key)) {\n\t\t\tObject.defineProperty(exports, key, { enumerable: true, get: definition[key] });\n\t\t}\n\t}\n};","__webpack_require__.o = function(obj, prop) { return Object.prototype.hasOwnProperty.call(obj, prop); }","// define __esModule on exports\n__webpack_require__.r = function(exports) {\n\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n\t}\n\tObject.defineProperty(exports, '__esModule', { value: true });\n};","/**\n * External dependencies\n */\nimport { registerPaymentMethod } from '@woocommerce/blocks-registry';\nimport { getSetting } from '@woocommerce/settings';\nimport { decodeEntities } from '@wordpress/html-entities';\nimport { useEffect } from '@wordpress/element';\n\n/**\n * Content component\n */\nconst Content = ( props ) => {\n    return ( props.text );\n};\n\n/**\n * \n * @link https://github.com/woocommerce/woocommerce-gutenberg-products-block/blob/trunk/docs/extensibility/checkout-flow-and-events.md#onpaymentprocessing\n */\nconst PaymentMethodContent = ( { description, eventRegistration } ) => {\n    const { onPaymentProcessing } = eventRegistration;\n\n    useEffect( () => {\n        const unsubscribe = onPaymentProcessing( function() {\n            return {\n                type: 'success',\n                meta: {\n                    paymentMethodData: {\n                        ok: '1234',\n                        test: 'abcd'\n                    }\n                }\n            };\n        } );\n\n        return unsubscribe;\n    }, [ onPaymentProcessing ] );\n\n    return <>\n        <div dangerouslySetInnerHTML={{__html: description}} />\n    </>\n}\n\n\n/**\n * Label component\n *\n * @param {*} props Props from payment API.\n */\nconst Label = ( props ) => {\n    const { PaymentMethodLabel } = props.components;\n\n    return <>\n        { '' !== props.icon &&\n            <>\n                <img src={ props.icon } />&nbsp;\n            </>\n        }\n\n        { '' !== props.title &&\n            <PaymentMethodLabel text={ decodeEntities( props.title ) } />\n        }\n    </>;\n};\n\n/**\n * Register payment method.\n */\nexport function registerMethod( paymentMethodId ) {\n    const settings = getSetting( paymentMethodId + '_data', false );\n\n    // Bail out if payment method is not enabled.\n    if ( false === settings ) {\n        return;\n    }\n\n    const title = settings.title || '';\n\n    const description = settings.description || '';\n\n    registerPaymentMethod( {\n        name: paymentMethodId,\n        label: <Label title={ title } icon={ settings.icon }/>,\n        ariaLabel: decodeEntities( title ),\n        content: <PaymentMethodContent description={ description } />,\n        edit: <Content text={ description }/>,\n        placeOrderButtonLabel: settings.orderButtonLabel || '',\n        supports: {\n            features: settings?.supports || [ 'products' ]\n        },\n        canMakePayment: () => true\n    } );\n};\n"],"names":["registerPaymentMethod","getSetting","decodeEntities","useEffect","Content","props","text","PaymentMethodContent","description","eventRegistration","onPaymentProcessing","unsubscribe","type","meta","paymentMethodData","ok","test","__html","Label","PaymentMethodLabel","components","icon","title","registerMethod","paymentMethodId","settings","name","label","ariaLabel","content","edit","placeOrderButtonLabel","orderButtonLabel","supports","features","canMakePayment"],"sourceRoot":""}